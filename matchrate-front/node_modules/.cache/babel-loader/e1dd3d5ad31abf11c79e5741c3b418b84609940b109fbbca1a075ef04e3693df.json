{"ast":null,"code":"var _jsxFileName = \"/Users/alex.majka/Code/Alex/MatchRate/matchrate-front/src/pages/users/Sessions.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, Fragment } from \"react\";\nimport axios from \"axios\";\nimport { Component } from 'react';\nimport styled from \"styled-components\";\nimport { redirect } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Field = styled.div`\n    border-radius: 4px;\n    input{\n        min-height: 50px;\n        border-radius: 4px;\n        border: 1px solid grey;\n        margin: 0 0 12px 0 ;\n        padding: 12px;\n        width: 100%;\n    }\n    textarea{\n        width: 100%;\n        min-height: 80px;\n        border-radius: 4px;\n        border: 1px solid grey;\n        margin: 12px 0 ;\n        padding: 12px;\n    }\n`;\n_c = Field;\nconst Wrapper = styled.div`\n    padding: 20px;\n    background:black;\n    height: 100vh;\n    padding-top: 100px;\n    border-radius: 20px;\n`;\n_c2 = Wrapper;\nconst SubmitButton = styled.button`\n    color: white;\n    background: #333;\n    border-radius: 4px;\n    border 1px solid white;\n    padding: 12px;\n    font-size: 18px;\n    cursor: pointer;\n    transition: ease-in-out 0.1s;\n    width: 100%;\n    margin-top: 20px\n\n    &:hover {\n        background: white;\n        color:black;\n        border: 1px solid white;\n    }\n`;\n_c3 = SubmitButton;\nconst Headline = styled.div`\n    padding: 20px;\n    text-align: center;\n    font-size: 30px;\n    font-weight: bold;\n    color:white;\n`;\n\n// class Sessions extends Component {\n//     constructor(props) {\n//       super(props);\n//       this.state = { \n//         email: '',\n//         password: '',\n//         errors: ''\n//        };\n//     }\n\n//     handleChange = (event) => {\n//       const {name, value} = event.target\n//       this.setState({\n//         [name]: value\n//       })\n//     };\n\n//     handleSubmit = (event) => {\n//       event.preventDefault()\n//     };\n\n//     render(){\n//         return(\n//             <Wrapper>\n//                 <form onSubmit={this.handleSubmit}>\n//                     <Headline>Log In!</Headline>\n//                     <Field>\n//                         <input onChange={this.handleChange} value = {email} type=\"text\" name=\"email\" placeholder=\"Please type your Email\"/>\n//                     </Field>\n//                     <Field>\n//                         <input onChange={this.handleChange} value = {password} type=\"password\" name=\"password\" placeholder=\"Please type your Password\"/>\n//                     </Field>\n//                     <SubmitButton type=\"submit\">Log In</SubmitButton>\n//                 </form>\n//             </Wrapper>\n//         )\n//     }\n// }  \n_c4 = Headline;\nconst Sessions = props => {\n  _s();\n  const [user, setUser] = useState({\n    email: \"\",\n    password: \"\"\n  });\n  const handleChange = e => {\n    e.preventDefault();\n    setUser({\n      ...user,\n      [e.target.name]: e.target.value\n    });\n    console.log(\"user:\", user);\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n    axios.post(\"http://localhost:3000/api/v1/sessions\", {\n      user\n    }, {\n      withCredentials: true\n    }).then(resp => {\n      if (resp.data.logged_in) {\n        this.props.handleLogin(response.data);\n        this.redirect();\n      } else {\n        this.setState({\n          errors: response.data.errors\n        });\n      }\n    }).catch(error => console.log(\"api errors: \", error));\n\n    //window.location.href = \"/\"\n  };\n\n  redirect = () => {\n    window.location.href = \"/\";\n  };\n  return /*#__PURE__*/_jsxDEV(Wrapper, {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(Headline, {\n        children: \"Log In!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Field, {\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: handleChange,\n          value: user.email,\n          type: \"text\",\n          name: \"email\",\n          placeholder: \"Please type your Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Field, {\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: handleChange,\n          value: user.password,\n          type: \"password\",\n          name: \"password\",\n          placeholder: \"Please type your Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(SubmitButton, {\n        type: \"submit\",\n        children: \"Log In\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 131,\n    columnNumber: 9\n  }, this);\n};\n_s(Sessions, \"dLIXxzWm8WW2puP6uPbW4pbZDuA=\");\n_c5 = Sessions;\nexport default Sessions;\nvar _c, _c2, _c3, _c4, _c5;\n$RefreshReg$(_c, \"Field\");\n$RefreshReg$(_c2, \"Wrapper\");\n$RefreshReg$(_c3, \"SubmitButton\");\n$RefreshReg$(_c4, \"Headline\");\n$RefreshReg$(_c5, \"Sessions\");","map":{"version":3,"names":["React","useState","useEffect","Fragment","axios","Component","styled","redirect","Field","div","Wrapper","SubmitButton","button","Headline","Sessions","props","user","setUser","email","password","handleChange","e","preventDefault","target","name","value","console","log","handleSubmit","post","withCredentials","then","resp","data","logged_in","handleLogin","response","setState","errors","catch","error","window","location","href"],"sources":["/Users/alex.majka/Code/Alex/MatchRate/matchrate-front/src/pages/users/Sessions.js"],"sourcesContent":["import React, {useState,useEffect,Fragment} from \"react\";\nimport axios from \"axios\"\nimport { Component } from 'react';\nimport styled from \"styled-components\";\nimport { redirect } from \"react-router-dom\";\n\nconst Field = styled.div`\n    border-radius: 4px;\n    input{\n        min-height: 50px;\n        border-radius: 4px;\n        border: 1px solid grey;\n        margin: 0 0 12px 0 ;\n        padding: 12px;\n        width: 100%;\n    }\n    textarea{\n        width: 100%;\n        min-height: 80px;\n        border-radius: 4px;\n        border: 1px solid grey;\n        margin: 12px 0 ;\n        padding: 12px;\n    }\n`\nconst Wrapper = styled.div`\n    padding: 20px;\n    background:black;\n    height: 100vh;\n    padding-top: 100px;\n    border-radius: 20px;\n`\nconst SubmitButton = styled.button`\n    color: white;\n    background: #333;\n    border-radius: 4px;\n    border 1px solid white;\n    padding: 12px;\n    font-size: 18px;\n    cursor: pointer;\n    transition: ease-in-out 0.1s;\n    width: 100%;\n    margin-top: 20px\n\n    &:hover {\n        background: white;\n        color:black;\n        border: 1px solid white;\n    }\n`\n\nconst Headline = styled.div`\n    padding: 20px;\n    text-align: center;\n    font-size: 30px;\n    font-weight: bold;\n    color:white;\n`\n\n// class Sessions extends Component {\n//     constructor(props) {\n//       super(props);\n//       this.state = { \n//         email: '',\n//         password: '',\n//         errors: ''\n//        };\n//     }\n\n//     handleChange = (event) => {\n//       const {name, value} = event.target\n//       this.setState({\n//         [name]: value\n//       })\n//     };\n\n//     handleSubmit = (event) => {\n//       event.preventDefault()\n//     };\n\n//     render(){\n//         return(\n//             <Wrapper>\n//                 <form onSubmit={this.handleSubmit}>\n//                     <Headline>Log In!</Headline>\n//                     <Field>\n//                         <input onChange={this.handleChange} value = {email} type=\"text\" name=\"email\" placeholder=\"Please type your Email\"/>\n//                     </Field>\n//                     <Field>\n//                         <input onChange={this.handleChange} value = {password} type=\"password\" name=\"password\" placeholder=\"Please type your Password\"/>\n//                     </Field>\n//                     <SubmitButton type=\"submit\">Log In</SubmitButton>\n//                 </form>\n//             </Wrapper>\n//         )\n//     }\n// }  \n\nconst Sessions = (props) => {\n    const [user, setUser] = useState({email: \"\", password: \"\"})\n\n    const handleChange = (e) => {\n        e.preventDefault()\n        setUser({ ...user, [e.target.name]: e.target.value})\n        console.log(\"user:\", user)\n    }\n\n    const handleSubmit = (e) => {\n        e.preventDefault()\n\n        axios.post(\"http://localhost:3000/api/v1/sessions\", {user}, {withCredentials:true})\n        .then(resp => {\n            if(resp.data.logged_in){\n                this.props.handleLogin(response.data)\n                this.redirect()\n            } \n            else {\n                this.setState({\n                    errors: response.data.errors\n                })\n            }\n        })\n        .catch(error => console.log(\"api errors: \", error))\n\n        //window.location.href = \"/\"\n    }\n    redirect = () => {window.location.href = \"/\"}\n\n    \n    return(\n        <Wrapper>\n            <form onSubmit={handleSubmit}>\n                <Headline>Log In!</Headline>\n                <Field>\n                    <input onChange={handleChange} value = {user.email} type=\"text\" name=\"email\" placeholder=\"Please type your Email\"/>\n                </Field>\n                <Field>\n                    <input onChange={handleChange} value = {user.password} type=\"password\" name=\"password\" placeholder=\"Please type your Password\"/>\n                </Field>\n                <SubmitButton type=\"submit\">Log In</SubmitButton>\n            </form>\n        </Wrapper>\n        )\n    }\nexport default Sessions"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}