{"ast":null,"code":"import { Component } from \"react\";\nclass handleSessions extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoggedIn: true,\n      user: {}\n    };\n  }\n  componentDidMount() {\n    this.loginStatus();\n  }\n}\nconst loginStatus = () => {\n  axios.get('http://localhost:3000/api/v1/logged_in', {\n    withCredentials: true\n  }).then(response => {\n    if (response.data.logged_in) {\n      this.handleLogin(response);\n    } else {\n      this.handleLogout();\n    }\n  }).catch(error => console.log('api errors:', error));\n};\nconst handleLogin = data => {\n  this.setState({\n    isLoggedIn: true,\n    user: data.user\n  });\n};\nconst handleLogout = () => {\n  this.setState({\n    isLoggedIn: false,\n    user: {}\n  });\n};\nexport { handleLogin, handleLogout, loginStatus };","map":{"version":3,"names":["Component","handleSessions","constructor","props","state","isLoggedIn","user","componentDidMount","loginStatus","axios","get","withCredentials","then","response","data","logged_in","handleLogin","handleLogout","catch","error","console","log","setState"],"sources":["/Users/alex.majka/Code/Alex/MatchRate/matchrate-front/src/pages/utils/handleSessions.js"],"sourcesContent":["import { Component } from \"react\";\n\nclass handleSessions extends Component{\n    constructor(props) {\n        super(props);\n        this.state = { \n          isLoggedIn: true,\n          user: {}\n         };\n      };\n\n    componentDidMount() {\n        this.loginStatus()\n    }\n}\n\nconst loginStatus = () => {\n    axios.get('http://localhost:3000/api/v1/logged_in', {withCredentials: true})    \n    .then(response => {\n        if (response.data.logged_in) {\n            this.handleLogin(response)\n        } else {\n            this.handleLogout()\n        }\n    })\n    .catch(error => console.log('api errors:', error))\n};\n\nconst handleLogin = (data) => {\n    this.setState({\n        isLoggedIn: true,\n        user: data.user\n    })\n}\n\nconst handleLogout = () => {\n    this.setState({\n        isLoggedIn: false,\n        user: {}\n    })\n}\n\nexport {handleLogin, handleLogout, loginStatus}"],"mappings":"AAAA,SAASA,SAAS,QAAQ,OAAO;AAEjC,MAAMC,cAAc,SAASD,SAAS;EAClCE,WAAW,CAACC,KAAK,EAAE;IACf,KAAK,CAACA,KAAK,CAAC;IACZ,IAAI,CAACC,KAAK,GAAG;MACXC,UAAU,EAAE,IAAI;MAChBC,IAAI,EAAE,CAAC;IACR,CAAC;EACJ;EAEFC,iBAAiB,GAAG;IAChB,IAAI,CAACC,WAAW,EAAE;EACtB;AACJ;AAEA,MAAMA,WAAW,GAAG,MAAM;EACtBC,KAAK,CAACC,GAAG,CAAC,wCAAwC,EAAE;IAACC,eAAe,EAAE;EAAI,CAAC,CAAC,CAC3EC,IAAI,CAACC,QAAQ,IAAI;IACd,IAAIA,QAAQ,CAACC,IAAI,CAACC,SAAS,EAAE;MACzB,IAAI,CAACC,WAAW,CAACH,QAAQ,CAAC;IAC9B,CAAC,MAAM;MACH,IAAI,CAACI,YAAY,EAAE;IACvB;EACJ,CAAC,CAAC,CACDC,KAAK,CAACC,KAAK,IAAIC,OAAO,CAACC,GAAG,CAAC,aAAa,EAAEF,KAAK,CAAC,CAAC;AACtD,CAAC;AAED,MAAMH,WAAW,GAAIF,IAAI,IAAK;EAC1B,IAAI,CAACQ,QAAQ,CAAC;IACVjB,UAAU,EAAE,IAAI;IAChBC,IAAI,EAAEQ,IAAI,CAACR;EACf,CAAC,CAAC;AACN,CAAC;AAED,MAAMW,YAAY,GAAG,MAAM;EACvB,IAAI,CAACK,QAAQ,CAAC;IACVjB,UAAU,EAAE,KAAK;IACjBC,IAAI,EAAE,CAAC;EACX,CAAC,CAAC;AACN,CAAC;AAED,SAAQU,WAAW,EAAEC,YAAY,EAAET,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}