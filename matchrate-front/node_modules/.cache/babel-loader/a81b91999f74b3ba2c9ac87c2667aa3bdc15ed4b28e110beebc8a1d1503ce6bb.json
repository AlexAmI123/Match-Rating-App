{"ast":null,"code":"import { Component } from \"react\";\nclass handleSessions extends Component {\n  constructor(props) {\n    super(props);\n    this.loginStatus = () => {\n      axios.get('http://localhost:3000/api/v1/logged_in', {\n        withCredentials: true\n      }).then(response => {\n        if (response.data.logged_in) {\n          this.handleLogin(response);\n        } else {\n          this.handleLogout();\n        }\n      }).catch(error => console.log('api errors:', error));\n    };\n    this.handleLogin = data => {\n      this.setState({\n        isLoggedIn: true,\n        user: data.user\n      });\n    };\n    this.handleLogout = () => {\n      this.setState({\n        isLoggedIn: false,\n        user: {}\n      });\n    };\n    this.state = {\n      isLoggedIn: true,\n      user: {}\n    };\n  }\n  componentDidMount() {\n    this.loginStatus();\n  }\n}\n//export {handleLogin, handleLogout, loginStatus}\nexport default handleSessions;","map":{"version":3,"names":["Component","handleSessions","constructor","props","loginStatus","axios","get","withCredentials","then","response","data","logged_in","handleLogin","handleLogout","catch","error","console","log","setState","isLoggedIn","user","state","componentDidMount"],"sources":["/Users/alex.majka/Code/Alex/MatchRate/matchrate-front/src/pages/utils/handleSessions.js"],"sourcesContent":["import { Component } from \"react\";\n\nclass handleSessions extends Component{\n    constructor(props) {\n        super(props);\n        this.state = { \n          isLoggedIn: true,\n          user: {}\n         };\n      };\n\n    componentDidMount() {\n        this.loginStatus()\n    }\n\n    loginStatus = () => {\n        axios.get('http://localhost:3000/api/v1/logged_in', {withCredentials: true})    \n        .then(response => {\n            if (response.data.logged_in) {\n                this.handleLogin(response)\n            } else {\n                this.handleLogout()\n            }\n        })\n        .catch(error => console.log('api errors:', error))\n    };\n\n    handleLogin = (data) => {\n        this.setState({\n            isLoggedIn: true,\n            user: data.user\n        })\n    }\n\n    handleLogout = () => {\n        this.setState({\n            isLoggedIn: false,\n            user: {}\n        })\n    }\n}\n//export {handleLogin, handleLogout, loginStatus}\nexport default handleSessions"],"mappings":"AAAA,SAASA,SAAS,QAAQ,OAAO;AAEjC,MAAMC,cAAc,SAASD,SAAS;EAClCE,WAAW,CAACC,KAAK,EAAE;IACf,KAAK,CAACA,KAAK,CAAC;IAAC,KAWjBC,WAAW,GAAG,MAAM;MAChBC,KAAK,CAACC,GAAG,CAAC,wCAAwC,EAAE;QAACC,eAAe,EAAE;MAAI,CAAC,CAAC,CAC3EC,IAAI,CAACC,QAAQ,IAAI;QACd,IAAIA,QAAQ,CAACC,IAAI,CAACC,SAAS,EAAE;UACzB,IAAI,CAACC,WAAW,CAACH,QAAQ,CAAC;QAC9B,CAAC,MAAM;UACH,IAAI,CAACI,YAAY,EAAE;QACvB;MACJ,CAAC,CAAC,CACDC,KAAK,CAACC,KAAK,IAAIC,OAAO,CAACC,GAAG,CAAC,aAAa,EAAEF,KAAK,CAAC,CAAC;IACtD,CAAC;IAAA,KAEDH,WAAW,GAAIF,IAAI,IAAK;MACpB,IAAI,CAACQ,QAAQ,CAAC;QACVC,UAAU,EAAE,IAAI;QAChBC,IAAI,EAAEV,IAAI,CAACU;MACf,CAAC,CAAC;IACN,CAAC;IAAA,KAEDP,YAAY,GAAG,MAAM;MACjB,IAAI,CAACK,QAAQ,CAAC;QACVC,UAAU,EAAE,KAAK;QACjBC,IAAI,EAAE,CAAC;MACX,CAAC,CAAC;IACN,CAAC;IAlCG,IAAI,CAACC,KAAK,GAAG;MACXF,UAAU,EAAE,IAAI;MAChBC,IAAI,EAAE,CAAC;IACR,CAAC;EACJ;EAEFE,iBAAiB,GAAG;IAChB,IAAI,CAAClB,WAAW,EAAE;EACtB;AA2BJ;AACA;AACA,eAAeH,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}