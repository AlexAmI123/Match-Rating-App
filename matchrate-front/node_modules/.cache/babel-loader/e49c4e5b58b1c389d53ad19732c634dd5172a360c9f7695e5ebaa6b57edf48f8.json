{"ast":null,"code":"var _jsxFileName = \"/Users/alex.majka/Code/Alex/MatchRate/matchrate-front/src/pages/users/Login.js\";\nimport React, { useState, useEffect, Fragment } from \"react\";\nimport axios from \"axios\";\nimport { Component } from 'react';\nimport styled from \"styled-components\";\nimport { redirect } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Field = styled.div`\n    border-radius: 4px;\n    input{\n        min-height: 50px;\n        border-radius: 4px;\n        border: 1px solid grey;\n        margin: 0 0 12px 0 ;\n        padding: 12px;\n        width: 100%;\n    }\n    textarea{\n        width: 100%;\n        min-height: 80px;\n        border-radius: 4px;\n        border: 1px solid grey;\n        margin: 12px 0 ;\n        padding: 12px;\n    }\n`;\n_c = Field;\nconst Wrapper = styled.div`\n    padding: 20px;\n    background:black;\n    height: 100vh;\n    padding-top: 100px;\n    border-radius: 20px;\n`;\n_c2 = Wrapper;\nconst SubmitButton = styled.button`\n    color: white;\n    background: #333;\n    border-radius: 4px;\n    border 1px solid white;\n    padding: 12px;\n    font-size: 18px;\n    cursor: pointer;\n    transition: ease-in-out 0.1s;\n    width: 100%;\n    margin-top: 20px\n\n    &:hover {\n        background: white;\n        color:black;\n        border: 1px solid white;\n    }\n`;\n_c3 = SubmitButton;\nconst Headline = styled.div`\n    padding: 20px;\n    text-align: center;\n    font-size: 30px;\n    font-weight: bold;\n    color:white;\n`;\n_c4 = Headline;\nclass Sessions extends Component {\n  constructor(props) {\n    super(props);\n    this.handleChange = e => {\n      const {\n        name,\n        value\n      } = e.target;\n      this.setState({\n        [name]: value\n      });\n    };\n    this.handleSubmit = e => {\n      e.preventDefault();\n      const {\n        email,\n        password\n      } = this.state;\n      let user = {\n        email: email,\n        password: password\n      };\n      axios.post(\"http://localhost:3000/api/v1/login\", {\n        user\n      }, {\n        withCredentials: true\n      }).then(resp => {\n        if (resp.data.logged_in) {\n          this.handleLogin(resp.data);\n          this.redirect();\n        } else {\n          this.setState({\n            errors: resp.data.errors\n          });\n        }\n      }).catch(error => console.log(\"api errors: \", error));\n    };\n    this.redirect = () => {\n      window.location.href = \"/\";\n    };\n    this.handleErrors = () => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: this.state.errors.map(error => {\n            return /*#__PURE__*/_jsxDEV(\"li\", {\n              children: error\n            }, error, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 59\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 19\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }, this);\n    };\n    this.state = {\n      eamil: '',\n      password: '',\n      errors: ''\n    };\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(Wrapper, {\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(Headline, {\n          children: \"Log In!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Field, {\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: handleChange,\n            value: user.email,\n            type: \"text\",\n            name: \"email\",\n            placeholder: \"Please type your Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Field, {\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: handleChange,\n            value: user.password,\n            type: \"password\",\n            name: \"password\",\n            placeholder: \"Please type your Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(SubmitButton, {\n          type: \"submit\",\n          children: \"Log In\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }, this);\n  }\n}\nexport default Sessions;\n\n// const Sessions = (props) => {\n//     const [user, setUser] = useState({email: \"\", password: \"\"})\n\n//     const handleChange = (e) => {\n//         e.preventDefault()\n//         setUser(Object.assign({}, user, {[e.target.name]: e.target.value} ))\n//         console.log(\"user:\", user)\n//     }\n\n//     const handleSubmit = (e) => {\n//         e.preventDefault()\n\n//         axios.post(\"http://localhost:3000/api/v1/login\", {user}, {withCredentials:true})\n//         .then(resp => {\n//             if(resp.data.logged_in){\n//                 this.handleLogin(resp.data)\n//                 this.redirect()\n//             } \n//             else {\n//                 this.setState({\n//                     errors: resp.data.errors\n//                 })\n//             }\n//         })\n//         .catch(error => console.log(\"api errors: \", error))\n//     }\n//     const redirect = () => {window.location.href = \"/\"}\n\n//     const handleErrors = () => {\n//         return (\n//             <div>\n//               <ul>\n//               {this.state.errors.map(error => {return <li key={error}>{error}</li>})}\n//               </ul>\n//             </div>\n//         )\n//     }\n\n//     return(\n//         <Wrapper>\n//             <form onSubmit={handleSubmit}>\n//                 <Headline>Log In!</Headline>\n//                 <Field>\n//                     <input onChange={handleChange} value = {user.email} type=\"text\" name=\"email\" placeholder=\"Please type your Email\"/>\n//                 </Field>\n//                 <Field>\n//                     <input onChange={handleChange} value = {user.password} type=\"password\" name=\"password\" placeholder=\"Please type your Password\"/>\n//                 </Field>\n//                 <SubmitButton type=\"submit\">Log In</SubmitButton>\n//             </form>\n//         </Wrapper>\n//         )\n//     }\n// export default Sessions\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"Field\");\n$RefreshReg$(_c2, \"Wrapper\");\n$RefreshReg$(_c3, \"SubmitButton\");\n$RefreshReg$(_c4, \"Headline\");","map":{"version":3,"names":["React","useState","useEffect","Fragment","axios","Component","styled","redirect","Field","div","Wrapper","SubmitButton","button","Headline","Sessions","constructor","props","handleChange","e","name","value","target","setState","handleSubmit","preventDefault","email","password","state","user","post","withCredentials","then","resp","data","logged_in","handleLogin","errors","catch","error","console","log","window","location","href","handleErrors","map","eamil","render"],"sources":["/Users/alex.majka/Code/Alex/MatchRate/matchrate-front/src/pages/users/Login.js"],"sourcesContent":["import React, {useState,useEffect,Fragment} from \"react\";\nimport axios from \"axios\"\nimport { Component } from 'react';\nimport styled from \"styled-components\";\nimport { redirect } from \"react-router-dom\";\n\nconst Field = styled.div`\n    border-radius: 4px;\n    input{\n        min-height: 50px;\n        border-radius: 4px;\n        border: 1px solid grey;\n        margin: 0 0 12px 0 ;\n        padding: 12px;\n        width: 100%;\n    }\n    textarea{\n        width: 100%;\n        min-height: 80px;\n        border-radius: 4px;\n        border: 1px solid grey;\n        margin: 12px 0 ;\n        padding: 12px;\n    }\n`\nconst Wrapper = styled.div`\n    padding: 20px;\n    background:black;\n    height: 100vh;\n    padding-top: 100px;\n    border-radius: 20px;\n`\nconst SubmitButton = styled.button`\n    color: white;\n    background: #333;\n    border-radius: 4px;\n    border 1px solid white;\n    padding: 12px;\n    font-size: 18px;\n    cursor: pointer;\n    transition: ease-in-out 0.1s;\n    width: 100%;\n    margin-top: 20px\n\n    &:hover {\n        background: white;\n        color:black;\n        border: 1px solid white;\n    }\n`\n\nconst Headline = styled.div`\n    padding: 20px;\n    text-align: center;\n    font-size: 30px;\n    font-weight: bold;\n    color:white;\n`\nclass Sessions extends Component {\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            eamil: '',\n            password: '',\n            errors: ''\n        }\n    }\n\n        handleChange = (e) => {\n            const {name, value} = e.target\n            this.setState({\n            [name]: value\n            })\n        }\n    \n        handleSubmit = (e) => {\n            e.preventDefault()\n    \n            const {email, password} = this.state\n            let user = {\n            email: email,\n            password: password,\n            }\n\n            axios.post(\"http://localhost:3000/api/v1/login\", {user}, {withCredentials:true})\n            .then(resp => {\n                if(resp.data.logged_in){\n                    this.handleLogin(resp.data)\n                    this.redirect()\n                } \n                else {\n                    this.setState({\n                        errors: resp.data.errors\n                    })\n                }\n            })\n            .catch(error => console.log(\"api errors: \", error))\n        }\n        redirect = () => {window.location.href = \"/\"}\n    \n        handleErrors = () => {\n            return (\n                <div>\n                  <ul>\n                  {this.state.errors.map(error => {return <li key={error}>{error}</li>})}\n                  </ul>\n                </div>\n            )\n        }\n        render(){\n        return(\n            <Wrapper>\n                <form onSubmit={handleSubmit}>\n                    <Headline>Log In!</Headline>\n                    <Field>\n                        <input onChange={handleChange} value = {user.email} type=\"text\" name=\"email\" placeholder=\"Please type your Email\"/>\n                    </Field>\n                    <Field>\n                        <input onChange={handleChange} value = {user.password} type=\"password\" name=\"password\" placeholder=\"Please type your Password\"/>\n                    </Field>\n                    <SubmitButton type=\"submit\">Log In</SubmitButton>\n                </form>\n            </Wrapper>\n            )\n        }\n    }\n    export default Sessions\n\n\n// const Sessions = (props) => {\n//     const [user, setUser] = useState({email: \"\", password: \"\"})\n\n//     const handleChange = (e) => {\n//         e.preventDefault()\n//         setUser(Object.assign({}, user, {[e.target.name]: e.target.value} ))\n//         console.log(\"user:\", user)\n//     }\n\n//     const handleSubmit = (e) => {\n//         e.preventDefault()\n\n//         axios.post(\"http://localhost:3000/api/v1/login\", {user}, {withCredentials:true})\n//         .then(resp => {\n//             if(resp.data.logged_in){\n//                 this.handleLogin(resp.data)\n//                 this.redirect()\n//             } \n//             else {\n//                 this.setState({\n//                     errors: resp.data.errors\n//                 })\n//             }\n//         })\n//         .catch(error => console.log(\"api errors: \", error))\n//     }\n//     const redirect = () => {window.location.href = \"/\"}\n\n//     const handleErrors = () => {\n//         return (\n//             <div>\n//               <ul>\n//               {this.state.errors.map(error => {return <li key={error}>{error}</li>})}\n//               </ul>\n//             </div>\n//         )\n//     }\n    \n//     return(\n//         <Wrapper>\n//             <form onSubmit={handleSubmit}>\n//                 <Headline>Log In!</Headline>\n//                 <Field>\n//                     <input onChange={handleChange} value = {user.email} type=\"text\" name=\"email\" placeholder=\"Please type your Email\"/>\n//                 </Field>\n//                 <Field>\n//                     <input onChange={handleChange} value = {user.password} type=\"password\" name=\"password\" placeholder=\"Please type your Password\"/>\n//                 </Field>\n//                 <SubmitButton type=\"submit\">Log In</SubmitButton>\n//             </form>\n//         </Wrapper>\n//         )\n//     }\n// export default Sessions"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}